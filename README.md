[![Review Assignment Due Date](https://classroom.github.com/assets/deadline-readme-button-24ddc0f5d75046c5622901739e7c5dd533143b0c8e959d652212380cedb1ea36.svg)](https://classroom.github.com/a/BhnScEmU)
[![Open in Visual Studio Code](https://classroom.github.com/assets/open-in-vscode-718a45dd9cf7e7f842a935f5ebbe5719a5e09af4491e668f4dbf3b35d5cca122.svg)](https://classroom.github.com/online_ide?assignment_repo_id=10837145&assignment_repo_type=AssignmentRepo)

# Assignment 4 - Using finetuned transformers via HuggingFace

## Project Description by Ross
In previous assignments, you've done a lot of model training of various kinds of complexity, such as training document classifiers or RNN language models. This assignment is more like Assignment 1, in that it's about *feature extraction*.

For this assignment, you should use ```HuggingFace``` to extract information from the *Fake or Real News* dataset that we've worked with previously.

You should write code and documentation which addresses the following tasks:

- Initalize a ```HuggingFace``` pipeline for emotion classification
- Perform emotion classification for every *headline* in the data
- Assuming the most likely prediction is the correct label, create tables and visualisations which show the following:
  - Distribution of emotions across all of the data
  - Distribution of emotions across *only* the real news
  - Distribution of emotions across *only* the fake news
- Comparing the results, discuss if there are any key differences between the two sets of headlines

- **MAKE SURE TO UPDATE YOUR README APPROPRIATELY!**

## METHODS
This project uses a HuggingFace model (Hartmann, 2022) to classify emotions on the *Fake or Real news* dataset. The HugginFace pipeline is imported and the "j-hartmann/emotion-english-distilroberta-base" model is then loaded into the script. A keyword is provided by the user - *all*, *real* or *fake* news - which decides what output will be generated by the script. When the keyword is provided the data is ran through a couple of functions which load the data (based on keyword), classify emotions for every headline, find the average score for all emotions and plot the average score into a barplot. Aside from the barplot, a new dataset is created with the headlines along with the score the headline has received. The script can be ran three times to generate the results of all three keywords (all; real; fake)

## HOW TO INSTALL AND RUN THE PROJECT

**Installation:**
1. First you need to clone the repository. 
- The data is included in the repository so you wonâ€™t have to load it separately 

2. Navigate from the root of your directory to ```assignment-4---using-finetuned-transformers-AneliaAB```

3. Run the setup file, which will install all the requirements by writing ```bash setup.sh``` in the terminal

**Run the script:** <br >
4. Navigate to the folder src by writing ```cd src``` in the terminal, assuming you current directory is ```assignment-4---using-finetuned-transformers-AneliaAB``` <br >
5. Run the script by writing ```python emotion_extraction.py``` in the terminal

**NOTE:** This will generate a prompt in the terminal asking you to supply a keyword. Write the keyword in the terminal: <br>
all --> generates results for all headlines <br> 
fake --> generates results for the fake headlines only <br>
real --> generates results for the real headlines only <br>

You will need to run the script three times, providing each keyword, as the script only generates result based on the given keyword.

## DISCUSSION OF RESULTS
This project generates two different types of results - a data frame and a bar plot. A pandas data frame is created to include all titles accompanied by the emotion scores. This shows how different titles are scored across all emotions. A barplot is generated to show the average score across all emotions. 
There is a slight difference between the fake and real headlines. For example, the emotions disgust and surprise appear slightly more often in the fake headlines compared to the real. Overall, the two emotions that are most prevalent in both fake and real is neutral and fear.
